groups:
- name: roboshop Service alerts
  rules:
  {% for component in components %}

  - alert: Service Down Alert - {{component}} service
    expr: node_systemd_unit_state(exported_name="{{component}}.service", state="active")
    for: 30s
    labels:
      severity: critical
      appName: {{component}}
    annotations:
      summary: Service down on some server - Service Name - {{component}}.service

  {% endfor %}